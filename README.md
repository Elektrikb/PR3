# PR3
## ЭФМО-01-24 Галай Егор Программирование корпоративных индустриальных систем
## 1. Описание

это клиент-серверное приложение, работающее по протоколу tcp. клиент отправляет текстовые файлы на сервер, который сохраняет их и выполняет анализ (подсчет строк, слов и символов). результаты анализа сохраняются в файле и отправляются обратно клиенту.

## 2. Запуск сервера

### Инструкция по запуску:

1. Перейти в папку server:
   ```sh
   cd server
   ```
2. Запустить сервер:
   ```sh
   go run main.go
   ```
3. Сервер создаст директорию `uploads/` для сохранения файлов, если она не существует.

### Логика работы сервера:

- сервер слушает tcp соединение на порту 5555.
- принимает входящее соединение от клиента.
- получает имя файла (до символа `\n`).
- создает уникальное имя для файла, добавляя временную метку.
- сохраняет файл в директорию `uploads/`.
- анализирует файл: подсчитывает строки, слова и символы.
- сохраняет результаты анализа в `analysis_result.txt` (используется `sync.Mutex` для защиты от состояния гонки).
- отправляет результаты анализа обратно клиенту.

## 3. Запуск клиента

### Инструкция по запуску:

1. Перейти в папку client:
   ```sh
   cd client
   ```
2. Запустить клиент:
   ```sh
   go run main.go
   ```
3. Клиент предложит ввести путь к файлу.
4. Клиент отправит файл серверу и получит результаты анализа.

### Логика работы клиента:

- клиент запрашивает у пользователя путь к файлу.
- открывает файл и устанавливает tcp-соединение с сервером.
- отправляет имя файла (с `\n` в конце).
- отправляет содержимое файла.
- получает результаты анализа от сервера и выводит их в консоль.


## 4. Обработка ошибок

### Сервер:

- если не удается открыть или записать в файл, сервер отправляет клиенту сообщение об ошибке.

### Клиент:

- если введен неверный путь к файлу, клиент выводит ошибку и предлагает ввести путь заново.
- если сервер недоступен, клиент выводит сообщение об ошибке и завершает работу.
